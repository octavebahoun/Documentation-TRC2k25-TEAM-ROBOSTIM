---
id: electronics-test3
slug: Test3
title: "Test 3 ‚Äî Afficheur 7 Segments"
sidebar_label: Test 3
---

import InfoCard from "@site/src/components/InfoCard";
import FeatureGrid from "@site/src/components/FeatureGrid";
import Table from "@site/src/components/Table";

<div
  className="hero-section"
  style={{
    padding: "3rem 2rem",
    borderRadius: "20px",
    marginBottom: "3rem",
    textAlign: "center",
    background: "linear-gradient(135deg, #0f172a 0%, #334155 100%)",
    color: "white",
  }}
>
  <h1 style={{ color: "white", border: "none", margin: 0, fontSize: "2.5rem" }}>
    Documentation technique des tests en √âlectronique
  </h1>
  <p style={{ fontSize: "1.25rem", marginTop: "1rem", opacity: 0.9 }}>
    <strong>Test 3 :</strong> R√©alisation d‚Äôun afficheur 7 segments m√©canique
  </p>

  <div
    style={{
      display: "flex",
      gap: "1rem",
      justifyContent: "center",
      marginTop: "2rem",
    }}
  >
    <a
      href="#test"
      className="hero-btn-primary"
      style={{
        color: "#0f172a",
        backgroundColor: "white",
        padding: "0.8rem 1.5rem",
        borderRadius: "8px",
        textDecoration: "none",
        fontWeight: "600",
        boxShadow: "0 4px 14px rgba(0,0,0,0.2)",
      }}
    >
      Commencer la lecture
    </a>
    <a
      href="#"
      target="_blank"
      className="hero-btn-outline"
      style={{
        color: "white",
        border: "2px solid white",
        padding: "0.8rem 1.5rem",
        borderRadius: "8px",
        textDecoration: "none",
        fontWeight: "600",
        background: "rgba(255,255,255,0.1)",
      }}
    >
      <i className="fas fa-video"></i> Voir la d√©mo
    </a>
  </div>
</div>

<div
  style={{
    display: "inline-flex",
    alignItems: "center",
    gap: "0.5rem",
    background: "#fef3c7",
    color: "#92400e",
    padding: "0.5rem 1rem",
    borderRadius: "999px",
    fontWeight: "bold",
    marginBottom: "2rem",
    border: "1px solid #f59e0b",
  }}
>
  <i className="fas fa-trophy"></i> TRC 25
</div>

## <i className="fas fa-flask"></i> Test 3 : L'afficheur m√©canique {#test}

L‚Äôobjectif de ce test est de concevoir et de r√©aliser un **afficheur 7 segments m√©canique**, o√π chaque segment est actionn√© par un servomoteur afin de reproduire les chiffres par des mouvements physiques. Notre afficheur devra compter de 0 √† 9 puis de 9 √† 0.

<div className="grid--2-col">
  <InfoCard title="Objectifs du test" icon="üéØ">
    * Communication I2C avec le module **PCA9685**. * Contr√¥le pr√©cis de **7
    servomoteurs**. * Gestion logicielle non-bloquante (`millis()`).
  </InfoCard>
  <InfoCard type="info" title="C'est quoi un servo ?" icon="‚öôÔ∏è">
    Un servomoteur est un moteur offrant un contr√¥le de position pr√©cis gr√¢ce √†
    un potentiom√®tre interne et une boucle de r√©troaction.
  </InfoCard>
</div>

---

## <i className="fas fa-microchip"></i> Mat√©riel et Composants {#material}

### <i className="fas fa-microchip"></i> Le contr√¥leur PCA9685

Comme le microcontr√¥leur ATmega328P ne poss√®de pas assez de sorties PWM robustes pour 7 servos, nous utilisons le **PCA9685**.

- **16 canaux** PWM ind√©pendants.
- **R√©solution 12 bits** (4096 pas).
- Communication **I2C** (SDA/SCL).

<div
  className="custom-card"
  style={{ padding: "1.5rem", marginBottom: "2rem" }}
>
  <h4>Conversion Angle ‚Üî Ticks</h4>
  <p>Le PCA9685 fonctionne en "ticks" (0-4095). √Ä 50Hz (p√©riode de 20ms) :</p>
  <ul>
    <li>
      <strong>0¬∞ (1 ms)</strong> ‚âà 205 ticks
    </li>
    <li>
      <strong>90¬∞ (1.5 ms)</strong> ‚âà 307 ticks
    </li>
    <li>
      <strong>180¬∞ (2 ms)</strong> ‚âà 410 ticks
    </li>
  </ul>
</div>

<Table
  headers={["Composants", "Sp√©cifications", "R√¥le"]}
  data={[
    ["ATmega328P", "Horloge 16 MHz, DIP28", "Cerveau du syst√®me (Ma√Ætre I2C)"],
    ["PCA9685", "16 canaux PWM I2C", "G√©n√©rateur de signaux pour les servos"],
    [
      "Servomoteurs (x7)",
      "SG90 ou similaire",
      "Actionnement m√©canique des segments",
    ],
    ["Batterie Li-Po 7.4V", "2S", "Alimentation de puissance"],
    ["R√©gulateur 7805", "5V stable", "Alimentation de la logique"],
  ]}
/>

---

## <i className="fas fa-project-diagram"></i> Architecture et R√©alisation {#architecture}

### <i className="fas fa-sitemap"></i> Fonctionnement global

L'ATmega328P configure le PCA9685 via I2C. Le programme ex√©cute une s√©quence pr√©d√©finie de chiffres. Chaque servo active un segment physique pour former le chiffre souhait√©.

<FeatureGrid
  items={[
    {
      icon: "‚ö°",
      title: "Bootloader",
      description: "Gravure pour programmation via IDE Arduino.",
    },
    {
      icon: "ÔøΩ",
      title: "KiCad",
      description: "Conception du sch√©ma et routage des pistes.",
    },
    {
      icon: "ÔøΩ",
      title: "Soudure",
      description: "Assemblage sur veroboard (panne fine 0.4mm).",
    },
    {
      icon: "üß™",
      title: "Test",
      description: "V√©rification individuelle de chaque servo.",
    },
  ]}
/>

<div
  style={{
    display: "flex",
    gap: "1rem",
    justifyContent: "center",
    margin: "2rem 0",
    flexWrap: "wrap",
  }}
>
  <img
    src={require("./images/test3/1.jpg").default}
    alt="Montage 1"
    width="180"
    style={{ borderRadius: "8px" }}
  />
  <img
    src={require("./images/test3/2.jpg").default}
    alt="Montage 2"
    width="180"
    style={{ borderRadius: "8px" }}
  />
  <img
    src={require("./images/test3/3.jpg").default}
    alt="Montage 3"
    width="180"
    style={{ borderRadius: "8px" }}
  />
  <img
    src={require("./images/test3/pca.jpeg").default}
    alt="PCA9685"
    width="180"
    style={{ borderRadius: "8px" }}
  />
</div>

---

## <i className="fas fa-code"></i> Analyse du Code {#code}

### <i className="fas fa-table"></i> Matrice des segments

Nous d√©finissons quels segments sont actifs (1) ou inactifs (0) pour chaque chiffre.

```cpp
int etatSegments[10][7] = {
  {1,1,1,1,1,1,0},  // 0
  {0,1,1,0,0,0,0},  // 1
  {1,1,0,1,1,0,1},  // 2
  {1,1,1,1,0,0,1}   // 3...
};
```

### <i className="fas fa-sync-alt"></i> Boucle principale non-bloquante

On utilise `millis()` pour changer de chiffre sans arr√™ter le reste du programme.

```cpp
void loop() {
  ajusterVitesse(); // Lecture potentiom√®tre

  if (actif) {
    if (millis() - precedentTime >= intervalle) {
        precedentTime = millis();
        chiffre += direction;
        if (chiffre >= 9 || chiffre <= 0) direction *= -1;
        affichage(chiffre);
    }
  }
}
```

---

## <i className="fas fa-toolbox"></i> Ressources et Annexes {#ressources}

<div className="grid--2-col">
  <div>
    <h3>
      <i className="fas fa-download"></i> T√©l√©chargements
    </h3>
    <ul className="component-list">
      <li>
        <a
          href="/Documentation-TRC2k25-TEAM-ROBOSTIM/files/Electroniques/Test3/doc/ATMEGA328.PDF"
          target="_blank"
        >
          <i className="fas fa-file-pdf"></i> Datasheet ATmega328P
        </a>
      </li>
      <li>
        <a href="/Documentation-TRC2k25-TEAM-ROBOSTIM/files/Electroniques/Test3/code_source.zip">
          <i className="fas fa-file-code"></i> Code source complet
        </a>
      </li>
      <li>
        <a href="/Documentation-TRC2k25-TEAM-ROBOSTIM/files/Electroniques/Test3/kicadFiles.zip">
          <i className="fas fa-drafting-compass"></i> Sch√©mas KiCad
        </a>
      </li>
      <li>
        <a href="/Documentation-TRC2k25-TEAM-ROBOSTIM/files/Electroniques/Test3/libraries.zip">
          <i className="fas fa-book"></i> Biblioth√®ques Arduino
        </a>
      </li>
    </ul>
  </div>
  <div>
    <h3>
      <i className="fas fa-cube"></i> Composants cl√©s
    </h3>
    <ul className="component-list">
      <li>
        <i className="fas fa-microchip"></i> ATmega328P
      </li>
      <li>
        <i className="fas fa-compress-arrows-alt"></i> Module PCA9685
      </li>
      <li>
        <i className="fas fa-robot"></i> Servomoteurs (x7 SG90)
      </li>
      <li>
        <i className="fas fa-bolt"></i> Batterie 7.4V
      </li>
    </ul>
  </div>
</div>

---

## <i className="fas fa-flag-checkered"></i> Conclusion {#conclusion}

:::success[Bilan]
Ce test valide la capacit√© √† g√©rer des actionneurs multiples via un bus de communication industriel I2C. L'int√©gration m√©canique et √©lectronique forme un syst√®me complet et visuel.
:::

<div style={{ textAlign: "center", marginTop: "2rem" }}>
  <p>
    <strong>Photos de d√©monstration finales :</strong>
  </p>
  <div
    style={{
      display: "grid",
      gridTemplateColumns: "repeat(auto-fit, minmax(150px, 1fr))",
      gap: "10px",
    }}
  >
    <img
      src={require("./images/test3/4.jpg").default}
      alt="Demo 4"
      style={{ width: "100%", borderRadius: "5px" }}
    />
    <img
      src={require("./images/test3/5.jpg").default}
      alt="Demo 5"
      style={{ width: "100%", borderRadius: "5px" }}
    />
    <img
      src={require("./images/test3/6.jpg").default}
      alt="Demo 6"
      style={{ width: "100%", borderRadius: "5px" }}
    />
    <img
      src={require("./images/test3/7.png").default}
      alt="Demo 7"
      style={{ width: "100%", borderRadius: "5px" }}
    />
  </div>
</div>

---

_Derni√®re mise √† jour : Janvier 2026_
_Documentation par la team ROBOSTIM - TRC 25_
